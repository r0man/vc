{"id":"vc-251","title":"Refactor result processor to skip inline gates for missions","description":"CURRENT: result_processor.go runs quality gates inline after agent completes. Blocks executor during gates.\n\nNEEDED: Skip inline gates for missions (epics). Instead, add 'needs-quality-gates' label to trigger QA worker.\n\nChanges:\n- In ProcessAgentResult(): Check if issue.Type == 'epic' and issue.Subtype == 'mission'\n- If mission: skip gates execution, add 'needs-quality-gates' label\n- If regular task: keep current inline behavior (backward compat)\n- Emit event: EventTypeQualityGatesDeferred\n\nWhy:\nMissions should use QA workers for parallel execution. Regular tasks can keep inline gates for now (no breaking changes).","design":"Modify result_processor.go ProcessAgentResult():\n\n1. After AI analysis, before gates:\n   - Check if issue is a mission (Type == epic, Subtype == mission)\n   - If mission AND gates enabled:\n     - Add label 'needs-quality-gates'\n     - Skip RunAll() / HandleGateResults()\n     - Emit EventTypeQualityGatesDeferred\n     - Release execution state\n     - Return early (don't run gates)\n   - If not mission:\n     - Keep current inline gates behavior (no changes)\n\n2. Add new event type:\n   - EventTypeQualityGatesDeferred in internal/events/types.go\n   - Data: {\"mission_id\": issueID, \"reason\": \"delegated-to-qa-worker\"}\n\nBackward compatibility: Regular tasks still get inline gates.","acceptance_criteria":"- Missions skip inline gates and get 'needs-quality-gates' label\n- Regular tasks still run inline gates (no behavior change)\n- EventTypeQualityGatesDeferred emitted for missions\n- Tests: mission completes → label added, no gates run\n- Tests: regular task → gates run inline (existing behavior)","status":"closed","priority":2,"issue_type":"task","created_at":"2025-10-29T16:46:17.255603-07:00","updated_at":"2025-10-29T17:44:53.213403-07:00","closed_at":"2025-10-29T17:44:53.213403-07:00","dependencies":[{"issue_id":"vc-251","depends_on_id":"vc-219","type":"parent-child","created_at":"2025-10-29T16:48:01.558815-07:00","created_by":"stevey"}]}
